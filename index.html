<!DOCTYPE html>
<html>
  <head>
    <title>Clipboard Sharing</title>
    <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
      }

      #clipboardInput {
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        border: none;
        outline: none;
        resize: none;
        font-size: 24px;
        padding: 20px;
      }
    </style>
  </head>
  <body>
    <input type="text" id="clipboardInput" placeholder="Enter text here" />
    <button id="copyButton" data-clipboard-target="#clipboardInput">Copy</button>

    <script>
      // Connect to the Socket.IO server
      const socket = io();

      // Initialize the Clipboard.js library
      const clipboard = new ClipboardJS('#copyButton');

      // Update the input field when clipboard content is received from the server
      socket.on('clipboardContent', (data) => {
        document.getElementById('clipboardInput').value = data;
      });

      // Update the clipboard content when the input field value changes
      const clipboardInput = document.getElementById('clipboardInput');
      clipboardInput.addEventListener('input', () => {
        socket.emit('updateClipboard', clipboardInput.value);
      });
    </script>
  </body>
</html>